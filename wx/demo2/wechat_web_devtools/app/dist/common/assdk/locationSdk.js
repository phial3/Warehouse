"use strict";function init(){function o(o){n({url:c+"?key="+i,needToken:-1},o)}function e(e,t){o(function(o,e,r){var n={};o||200!==e.statusCode||(r=JSON.parse(r),0==r.status&&(n={latitude:r.result.location.lat,longitude:r.result.location.lng},n.errMsg="getLocation:ok")),n.errMsg||(n.errMsg="getLocation:fail; timeout"),t(n)})}function t(o,e){var t=o.args,r=t.latitude,n=t.longitude,c="marker=coord:"+r+","+n;t.name&&(c+=";title:"+encodeURIComponent(t.name)),t.address&&(c+=";addr:"+encodeURIComponent(t.address)),o.url=u+"?type=0&"+c+"&key="+i+"&referer="+a,s.sendASSDK("openLocation",o,e)}function r(e,t){o(function(o,r,n){if(!o&&200===r.statusCode&&(n=JSON.parse(n),0==n.status)){var c=n.result.location.lat,u=n.result.location.lng;return e.url=l+"?search=1&type=1&coord="+c+","+u+"&key="+i+"&referer="+a,void s.sendASSDK("chooseLocation",e,t)}t({errMsg:"chooseLocation:fail; timeout"})})}var n=require("../request/request.js"),s=require("../../actions/webviewActions.js"),i="JMRBZ-R4HCD-X674O-PXLN4-B7CLH-42BSB",a="wxdevtools",c="http://apis.map.qq.com/ws/location/v1/ip",u="http://apis.map.qq.com/tools/poimarker",l="http://apis.map.qq.com/tools/locpicker";_exports={getLocation:e,openLocation:t,chooseLocation:r}}var _exports;init(),module.exports=_exports;