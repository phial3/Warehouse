"use strict";function init(){function e(e,s){var n=r.getProjectByHash(e.apphash),i=n.appid;o({url:t+"?appid="+i,method:"post",needToken:1},function(e,r,o){var n={},i="";e||200!==r.statusCode?i=e.toString():(o=JSON.parse(o),o.baseresponse&&(0==o.baseresponse.errcode?n={errMsg:"refreshSession:ok",expireIn:o.session_expire_in,err_code:o.baseresponse.errcode}:i=o.baseresponse.errmsg)),n.errMsg||(n.errMsg="refreshSession:fail;"+i),s(n)})}function s(e,s){var n=r.getProjectByHash(e.apphash),t=n.appid,p={scope:["snsapi_base"]};o({url:i+"?appid="+t,method:"post",body:JSON.stringify(p),needToken:1},function(e,r,o){var n={},i="";e||200!==r.statusCode?i=e.toString():(o=JSON.parse(o),o.baseresponse&&(0==o.baseresponse.errcode?n={errMsg:"login:ok",code:o.code}:i=o.baseresponse.errmsg)),n.errMsg||(n.errMsg="login:fail;"+i),s(n)})}var r=require("../../stores/projectStores.js"),o=require("../../common/request/request.js"),n=require("../../config/urlConfig.js"),i=n.jsLoginURL,t=n.jsRefreshSessionURL;_exports={login:s,refreshSession:e}}var _exports;init(),module.exports=_exports;