"use strict";function init(){var e=require("../../../lib/react.js"),t=(require("../../../lib/react-dom.js"),require("../../../stores/webviewStores.js")),i=require("../../../actions/webviewActions.js"),s=require("./selectorRing"),r=require("./timeRing"),n=require("./dateRing"),a=e.createClass({displayName:"Picker",getInitialState:function(){return{mode:"selector",title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#3CC51F",cancelColor:"#000000",hidden:!0,array:[]}},componentDidMount:function(){t.on("SET_INTERFACE_ASYNC_RES",this.handleWebviewsdkCommand)},componentWillUnmount:function(){t.removeListener("SET_INTERFACE_ASYNC_RES",this.handleWebviewsdkCommand)},handleWebviewsdkCommand:function(e,t,i,s){var r=s.args;this.webviewID=e,this.sdkName=t,"showPickerView"===t?this.setState({mode:"selector",array:r.array,current:r.current,hidden:!1}):"showDatePickerView"===t&&this.setState({mode:r.mode,start:r.range&&r.range.start||"",end:r.range&&r.range.end||"",current:r.current||"",fields:r.fields||"day",hidden:!1})},hide:function(){this.setState({hidden:!0,mode:"none"})},confirm:function(){this.hide();var e=this.refs[this.state.mode].getValue();"showPickerView"===this.sdkName?i.sendJSSDKRes(this.webviewID,this.sdkName,{errMsg:this.sdkName+":ok",index:parseInt(e)}):"showDatePickerView"===this.sdkName&&i.sendJSSDKRes(this.webviewID,this.sdkName,{errMsg:this.sdkName+":ok",value:e})},getRing:function(){return"selector"==this.state.mode?e.createElement(s,{ref:"selector",array:this.state.array,current:this.state.current}):"time"==this.state.mode?e.createElement(r,{ref:"time",current:this.state.current,start:this.state.start,end:this.state.end}):e.createElement(n,{ref:"date",current:this.state.current,start:this.state.start,end:this.state.end,fields:this.state.fields})},render:function(){return e.createElement("div",{style:{display:this.state.hidden?"none":""}},e.createElement("div",{className:"wx-picker-mask",onClick:this.hide}),e.createElement("div",{className:"wx-picker"},e.createElement("div",{className:"wx-picker-hd"},e.createElement("a",{className:"wx-picker-action",onClick:this.hide},"取消"),e.createElement("a",{className:"wx-picker-action",onClick:this.confirm},"确定")),this.getRing()))}});_exports=a}var _exports;init(),module.exports=_exports;