"use strict";function init(){var r=global.appConfig.isDev,e=require("fs"),s=require("path"),n=(require("../utils/tools.js"),require("../../config/config.js"),require("../utils/vendorManager.js")),i=require("../utils/projectManager.js"),t=(require("async"),{}),o=r?{"<!--{{reportSDK}}-->":"reporter-sdk.js","<!--{{webviewSDK}}-->":"webview-sdk.js","<!--{{virtual_dom}}-->":"virtual_dom.js","<!--{{exparser}}-->":"exparser.js","<!--{{components_js}}-->":"wx-components.js","<!--{{components_css}}-->":"wx-components.css"}:{"<!--{{WAWebview}}-->":"WAWebview.js"};n.manager.on("VENDOR_CHANGE",function(){t={}}),i.manager.on("FILE_CHANGE",function(r,e,s){if("app.json"===s){var n=r.hash;delete t[n]}}),_exports=function(i,a,p){var c=(a.url,i.hash);return t[c]?void process.nextTick(function(){var r=t[c];p(r.error,r.data)}):void!function(){var a=s.join(i.projectpath,"app.wxss"),u=e.existsSync(a),l=require("../tpl/pageFrameTpl.js");u&&(l=l.replace("<!--{{style}}-->",function(){return'<script src="/app.wxss"></script>'}));var v={};for(var f in o)v[f]=n.getFile(o[f]);var j=function(r){var e=o[r];l=l.replace(r,function(){return e.indexOf(".js")>0?"<script>"+v[r]+"</script>":e.indexOf(".css")>0?"<style>"+v[r]+"</style>":v.vendor[r]})};for(var d in o)j(d);r||(t[c]={error:null,data:l}),p(null,l)}()}}var _exports;init(),module.exports=_exports;